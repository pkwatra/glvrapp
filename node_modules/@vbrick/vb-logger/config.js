var dotenv = require('dotenv');

dotenv.config();

function getValue(obj, key, defaultValue) {
	if(obj.hasOwnProperty(key)) {
		return obj[key];
	}
	return defaultValue;
}

module.exports = {
	consoleLevel: process.env.LOG_CONSOLELEVEL || 'debug',
	handleExceptions: JSON.parse(getValue(process.env, 'LOG_HANDLEEXCEPTIONS', true)),
	prettyPrint: JSON.parse(getValue(process.env, 'LOG_PRETTYPRINT', true)),
	file: {
		level: process.env.LOG_FILE_LEVEL || 'debug',
		filename: process.env.LOG_FILE_FILENAME || 'logs/app.log',
		json: JSON.parse(getValue(process.env, 'LOG_FILE_JSON', true)),
		maxSize: getValue(process.env, 'LOG_FILE_MAXSIZE', 5242880),
		maxFiles: getValue(process.env, 'LOG_FILE_MAXFILES', 999),
		tailable: getValue(process.env, 'LOG_FILE_TAILABLE', true)
	},
	logstash: {
		host: process.env.LOG_LOGSTASH_HOST,
		port: process.env.LOG_LOGSTASH_PORT || 9998,
		node_name: process.env.LOG_LOGSTASH_NODENAME,
		level: process.env.LOG_LOGSTASH_LEVEL || 'debug'
	}
};
